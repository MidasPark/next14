---
description: Database best practices focusing on Prisma and Supabase integration
globs: backend/prisma/**/*, backend/src/db/**/*, backend/**/*.prisma
---

# 데이터베이스 베스트 프랙티스

## Prisma 설정
- 적절한 스키마 설계 사용
- 적절한 마이그레이션 구현
- 적절한 관계 정의 사용
- 적절한 연결 구성
- 적절한 시딩 구현
- 적절한 클라이언트 설정 사용

## Prisma 모델
- 적절한 모델 명명 사용
- 적절한 관계 구현
- 적절한 필드 타입 사용
- 적절한 인덱스 정의
- 적절한 제약 조건 구현
- 적절한 열거형 사용

## Prisma 쿼리
- 적절한 쿼리 최적화 사용
- 적절한 필터링 구현
- 적절한 관계 로딩 사용
- 트랜잭션을 적절히 처리
- 적절한 페이지네이션 구현
- 적절한 집계 사용

## 데이터베이스 설계
- 적절한 정규화 사용
- 적절한 인덱싱 구현
- 적절한 제약 조건 사용
- 적절한 관계 정의
- 적절한 캐스케이드 구현
- 적절한 데이터 타입 사용

## 성능
- 적절한 연결 풀링 사용
- 적절한 캐싱 구현
- 적절한 쿼리 최적화 사용
- N+1 쿼리를 적절히 처리
- 적절한 배칭 구현
- 성능 메트릭 모니터링

## 보안
- 적절한 인증 사용
- 적절한 권한 부여 구현
- 민감한 데이터를 적절히 처리
- 적절한 암호화 사용
- 적절한 백업 구현
- 보안 이슈 모니터링

## 베스트 프랙티스
- 데이터베이스 규칙 준수
- 적절한 마이그레이션 사용
- 적절한 버전 관리 구현
- 에러를 적절히 처리
- 스키마를 적절히 문서화
- 데이터베이스 상태 모니터링 
- Implement proper versioning
- Handle errors properly
- Document schema properly
- Monitor database health 